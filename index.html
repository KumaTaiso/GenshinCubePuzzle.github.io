<!DOCTYPE html>
<html>
    <!--This Code made by KumaTaiso-->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <style>
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
    .center {
      margin: 0;
      position: absolute;
      left: 20%;
      font-family: 'Roboto Mono', monospace;
      font-size: 35px;
      color: black;
    }
    .button {
        background-color: #4CAF50;
        border: none;
        color: white;
        padding: 15px 32px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        margin: 4px 2px;
        cursor: pointer;
        font-family: 'Roboto Mono', monospace;
        font-size: 35px;
    }
    .buttonInWhite {
        background-color: white; 
        color: black; 
        border: 5px solid #4CAF50;
    }
    body {
      background-image: url("https://www.designbolts.com/wp-content/uploads/2013/02/Tiny-polyester-pixel-Grey-Seamless-Pattern-For-Website-Background.jpg");
    }

    </style>
    
<body onLoad="update_image()">

<div class = "center">
    <button class="button" onmousedown="random()">Random</button>
    <button class="button" onmousedown="random_slove()">Random Slove</button>
    <h1>Genshin Cube Puzzle</h1><br>
    <img id="Cube_A" img.src="https://media.discordapp.net/attachments/528215792672702464/868142817879412776/0.png" />
    <img id="Cube_B" img.src="https://media.discordapp.net/attachments/528215792672702464/868142817879412776/0.png" />
    <img id="Cube_C" img.src="https://media.discordapp.net/attachments/528215792672702464/868142817879412776/0.png" />
    <img id="Cube_D" img.src="https://media.discordapp.net/attachments/528215792672702464/868142817879412776/0.png" />
    <img id="Cube_E" img.src="https://media.discordapp.net/attachments/528215792672702464/868142817879412776/0.png" />

    <br>
    <button class="button" onmousedown="A()">0</button>
    <button class="button" onmousedown="B()">1</button>
    <button class="button" onmousedown="C()">2</button>
    <button class="button" onmousedown="D()">3</button>
    <button class="button" onmousedown="E()">4</button>
    <br>

    <br>
    <button class="button" onmousedown="C0()">0</button>
    <button class="button" onmousedown="C1()">1</button>
    <button class="button" onmousedown="C2()">2</button>
    <button class="button" onmousedown="C3()">3</button>
    <button class="button" onmousedown="C4()">4</button>
    <br>

    <h2>Solution is <span id="Solution"></span></h2>
</div>

<script>
    var pos = [1,2,1,2,3];
    function A(){
        pos[0] += 1;
        pos[2] += 1;
        Calculate();
        update_image();
    }
    function B(){
        pos[0] += 1;
        pos[1] += 1;
        pos[2] += 1;
        Calculate();
        update_image();
    }
    function C(){
        pos[0] += 1;
        pos[2] += 1;
        pos[4] += 1;
        Calculate();
        update_image();
    }
    function D(){
        pos[2] += 1;
        pos[3] += 1;
        pos[4] += 1;
        Calculate();
        update_image();
    }
    function E(){
        pos[2] += 1;
        pos[4] += 1;
        Calculate();
        update_image();
    }

    function C0(){
        pos[0] += 1;
        Calculate();
        update_image();
    }
    function C1(){
        pos[1] += 1;
        Calculate();
        update_image();
    }
    function C2(){
        pos[2] += 1;
        Calculate();
        update_image();
    }
    function C3(){
        pos[3] += 1;
        Calculate();
        update_image();
    }
    function C4(){
        pos[4] += 1;
        Calculate();
        update_image();
    }
    function update_image(){
        var img = document.getElementById("Cube_A");
        if(pos[0] == 1){img.src="https://media.discordapp.net/attachments/528215792672702464/868142819838152744/1.png";}
        if(pos[0] == 2){img.src="https://media.discordapp.net/attachments/528215792672702464/868142821922734080/2.png";}
        if(pos[0] == 3){img.src="https://media.discordapp.net/attachments/528215792672702464/868142823323619388/3.png";}
        if(pos[0] == 4){img.src="https://media.discordapp.net/attachments/528215792672702464/868142825097789530/4.png";}
        var img = document.getElementById("Cube_B");
        if(pos[1] == 1){img.src="https://media.discordapp.net/attachments/528215792672702464/868142819838152744/1.png";}
        if(pos[1] == 2){img.src="https://media.discordapp.net/attachments/528215792672702464/868142821922734080/2.png";}
        if(pos[1] == 3){img.src="https://media.discordapp.net/attachments/528215792672702464/868142823323619388/3.png";}
        if(pos[1] == 4){img.src="https://media.discordapp.net/attachments/528215792672702464/868142825097789530/4.png";}
        var img = document.getElementById("Cube_C");
        if(pos[2] == 1){img.src="https://media.discordapp.net/attachments/528215792672702464/868142819838152744/1.png";}
        if(pos[2] == 2){img.src="https://media.discordapp.net/attachments/528215792672702464/868142821922734080/2.png";}
        if(pos[2] == 3){img.src="https://media.discordapp.net/attachments/528215792672702464/868142823323619388/3.png";}
        if(pos[2] == 4){img.src="https://media.discordapp.net/attachments/528215792672702464/868142825097789530/4.png";}
        var img = document.getElementById("Cube_D");
        if(pos[3] == 1){img.src="https://media.discordapp.net/attachments/528215792672702464/868142819838152744/1.png";}
        if(pos[3] == 2){img.src="https://media.discordapp.net/attachments/528215792672702464/868142821922734080/2.png";}
        if(pos[3] == 3){img.src="https://media.discordapp.net/attachments/528215792672702464/868142823323619388/3.png";}
        if(pos[3] == 4){img.src="https://media.discordapp.net/attachments/528215792672702464/868142825097789530/4.png";}
        var img = document.getElementById("Cube_E");
        if(pos[4] == 1){img.src="https://media.discordapp.net/attachments/528215792672702464/868142819838152744/1.png";}
        if(pos[4] == 2){img.src="https://media.discordapp.net/attachments/528215792672702464/868142821922734080/2.png";}
        if(pos[4] == 3){img.src="https://media.discordapp.net/attachments/528215792672702464/868142823323619388/3.png";}
        if(pos[4] == 4){img.src="https://media.discordapp.net/attachments/528215792672702464/868142825097789530/4.png";}
        return false;
    }
    var correct = 0;
    var i = 0;

    function Calculate(){
        for(i=0;i<5;i+=1){
            if(pos[i] == 5){pos[i] = 1;}
            if(pos[i-1] == pos[i]){correct += 1;}
        }
    }

    function random_slove(){
        document.getElementById("Solution").innerHTML = "";
        let temp_pos = [];
        for(i=0;i<5;i++){
            temp_pos[i] = pos[i];
        }
        var use = [];
        var use_count=0;
        var try_hard=0;
        while(1){
            use[use_count] = Math.floor(Math.random() * 5);;
            if(use[use_count] == 0){
                pos[0] += 1;
                pos[2] += 1;
            }
            if(use[use_count] == 1){
                pos[0] += 1;
                pos[1] += 1;
                pos[2] += 1;
            }
            if(use[use_count] == 2){
                pos[0] += 1;
                pos[2] += 1;
                pos[4] += 1;
            }
            if(use[use_count] == 3){
                pos[2] += 1;
                pos[3] += 1;
                pos[4] += 1;
            }
            if(use[use_count] == 4){
                pos[2] += 1;
                pos[4] += 1;
            }

            use_count += 1
            if(use_count > 6 && try_hard < 100000){
                for(i=0;i<5;i++){
                    pos[i] = temp_pos[i];
                }
                use_count=0;
                try_hard++;
            }
            if(use_count > 7 && try_hard >= 100000){
                for(i=0;i<5;i++){
                    pos[i] = temp_pos[i];
                }
                use_count=0;
            }

            correc = 0;
            for(i=0;i<5;i++){
                if(pos[i] == 5){pos[i] = 1;}
                if(pos[i-1] == pos[i]){correc += 1;}
            }

            if(correc == 4){
                
                use.sort(function(a, b){return a - b});

                for(i=0;i<use_count;i++){
                    console.log(use[i]);
                    document.getElementById("Solution").innerHTML += use[i];
                }

                for(i=0;i<5;i++){
                    pos[i] = temp_pos[i];
                }
                update_image();
                break;
            }
        }
    }

    function random(){
        for(i=0;i<5;i++){
            pos[i] = Math.floor(Math.random() * 4);
        }
        update_image();
    }
</script>
</body>
</html>
